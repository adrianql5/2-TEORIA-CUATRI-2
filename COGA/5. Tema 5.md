# 5.1 La Luz
La **luz** es una onda electromagn茅tica que se propaga a trav茅s del espacio y es percibida por el ojo humano. Su color est谩 determinado por su **frecuencia** o por la combinaci贸n de varias frecuencias. El conjunto de todas las frecuencias o longitudes de onda de la luz se conoce como el **espectro electromagn茅tico**.


El ojo humano cuenta con dos tipos principales de c茅lulas detectoras de luz en la retina:

- **Bastones**: Son sensibles a la luminosidad, pero no distinguen colores. Funcionan principalmente en condiciones de poca luz y permiten la visi贸n nocturna.
  
- **Conos**: Son responsables de la percepci贸n del color. Existen **tres tipos de conos**, cada uno sensible a una banda espec铆fica del espectro de radiaci贸n:
    - **Conos rojos**: Sensibles a las longitudes de onda largas (rojo). 
    - **Conos verdes**: Sensibles a las longitudes de onda medias (verde).
    - **Conos azules**: Sensibles a las longitudes de onda cortas (azul).



El **espectro de la luz** que percibimos puede representarse matem谩ticamente como la combinaci贸n de las intensidades de los tres colores primarios (rojo, verde y azul) a diferentes longitudes de onda. Se expresa mediante la siguiente ecuaci贸n:

$$(位) = R \cdot r(位) + V \cdot v(位) + A \cdot a(位)$$

donde:

- $I(位)$ es la intensidad de la luz en funci贸n de la longitud de onda $位$.
- $R$, $V$, $A$ representan los coeficientes de los colores rojo, verde y azul, respectivamente.
- $r(位)$, $v(位)$, $a(位)$ corresponden a las funciones de sensibilidad de los conos para cada color.

En la computaci贸n y la s铆ntesis de im谩genes, el color se caracteriza mediante sus componentes **RGB (Red, Green, Blue)**. Sin embargo, existen modelos m谩s avanzados que discretizan el espectro luminoso con mayor precisi贸n. En las gr谩ficas de espectro de luz:
- El eje **X** representa la **longitud de onda**.
- El eje **Y** representa la **intensidad luminosa**.

Nuestro sistema visual percibe con mayor intensidad los colores **rojo y azul** que el verde. Por este motivo, en la representaci贸n digital del color en **24 bits**, los bits no se dividen de manera equitativa entre los colores. En lugar de asignar **8 bits por canal**, lo com煤n es distribuirlos de la siguiente manera:

- **Rojo**: 10 bits
- **Azul**: 10 bits
- **Verde**: 4 bits

Este ajuste se debe a la forma en que el ojo humano percibe los colores y a la necesidad de optimizar la representaci贸n digital de la luz.

![[Pasted image 20250330174743.png]]

# 5.2 Teor铆a del Color: Colores Aditivos
Los **colores aditivos** son aquellos que se obtienen directamente mediante la descomposici贸n de la luz solar o a trav茅s de fuentes emisoras de luz con longitudes de onda espec铆ficas. Este modelo se basa en la combinaci贸n de **luces de diferentes colores** para formar nuevos colores.

### **Colores primarios y mezcla aditiva**
- Los **tres colores primarios** en el modelo aditivo son: **rojo (R), verde (G) y azul (B)**.
- Al combinar estos colores en diferentes intensidades, se pueden obtener todos los colores del espectro visible.
- La suma de los tres en su m谩xima intensidad da como resultado el **blanco**.
- La ausencia de luz (0,0,0) representa el **negro**.
- Ejemplo de combinaciones b谩sicas:
    - Rojo + Verde = Amarillo
    - Rojo + Azul = Magenta
    - Verde + Azul = Cian


En **OpenGL**, el color se representa en el sistema **RGB**, donde los valores pueden expresarse en un rango de **0 a 1** o **0 a 255**. Para definir colores en OpenGL, se usa la funci贸n:

```cpp
glColor3f(R, G, B);
```

donde los valores de R, G y B est谩n en el rango de **0 a 1**.

# 5.3 Interpolaci贸n del Color
En **OpenGL**, se puede asignar un color diferente a cada v茅rtice de un objeto, y el sistema interpolar谩 los colores en los espacios intermedios. Esto permite generar efectos de **gradientes** en las superficies.

#### **Ejemplo con tri谩ngulos**
Para crear una imagen con una transici贸n de color suave, podemos dibujar **tres tri谩ngulos** con colores diferentes en cada v茅rtice. La intensidad del color final ser谩 la suma de los colores interpolados en cada punto.

Este proceso involucra varios conceptos:
- **Rasterizado**: Conversi贸n de formas geom茅tricas en p铆xeles en pantalla.
- **Teor铆a aditiva del color**: Combinaci贸n de colores a partir de luces RGB.
- **Percepci贸n humana del color**: C贸mo interpretamos la mezcla de colores en un degradado.

Este m茅todo es la base del **sombreado de objetos en gr谩ficos por computadora**, permitiendo que los objetos se vean m谩s suaves y realistas.

# 5.4 Modelos de Iluminaci贸n
En OpenGL, existe una **luz por defecto** que sigue uno de los modelos de iluminaci贸n que veremos a continuaci贸n. Existen dos categor铆as principales de modelos de iluminaci贸n:

- **Modelos Locales**: Son r谩pidos y se utilizan en la visualizaci贸n est谩ndar. No consideran c贸mo la luz interact煤a con otros objetos de la escena, sino que calculan la iluminaci贸n solo en funci贸n de la fuente de luz y el objeto. Destaca el **modelo de Phong**, ampliamente usado en videojuegos debido a su eficiencia.

![[Pasted image 20250401125515.png]]

- **Modelos Globales**: Consideran la escena en su conjunto, lo que permite efectos de iluminaci贸n m谩s realistas. Son m谩s lentos y computacionalmente costosos. Ejemplos destacados son la **radiosidad** (para calcular luz difusa) y el **trazado de rayos** (para simular reflejos y refracciones con gran precisi贸n).

![[Pasted image 20250401125532.png]]

## 5.4.1 Modelo Local de Iluminaci贸n
El **modelo local de iluminaci贸n** calcula la luz en funci贸n de tres factores clave:

1. **Fuentes de luz**:
    - Pueden ser **localizadas** (como una bombilla) o **infinitamente alejadas** (como el sol).
    - Tienen diferentes caracter铆sticas, como **intensidad**, **color**, **n煤mero de luces en la escena** y **distribuci贸n luminosa**.
    - Se clasifican en:
        - **Puntuales**: Emiten luz en todas direcciones desde un punto.
        - **Direccionales**: Emiten luz en una 煤nica direcci贸n, como el sol.
        - **Esf茅ricas y lineales**: Modelan fuentes de luz con geometr铆a m谩s compleja.

2. **Propiedades de los objetos**:    
    - La interacci贸n de la luz con un objeto depende de:
        - **Su posici贸n respecto a la fuente de luz y al observador**.
        - **El material y sus propiedades 贸pticas**, como la transparencia y la refracci贸n.
        - **El color del objeto** (cromaticidad).
        - **La forma en que la luz interact煤a con otros objetos de la escena** (aunque en modelos locales esto es muy limitado).

3. **El Observador**:
    - La direcci贸n desde la cual se observa el objeto influye en c贸mo se percibe la iluminaci贸n.
    - Se calcula la **intensidad luminosa** en funci贸n del 谩ngulo de observaci贸n y el tipo de material del objeto.


En resumen, la luz proviene de una o varias fuentes, interact煤a con los objetos de la escena y es percibida por el observador seg煤n su posici贸n. En OpenGL, estos c谩lculos se realizan en cada v茅rtice o fragmento para simular iluminaci贸n en tiempo real.

## 5.4.2 Modelo de Iluminaci贸n Simple
Resumiendo lo explicado anteriormente, la iluminaci贸n en un punto de una escena puede representarse mediante la siguiente funci贸n:

$$ =  ( , , \{吼\}, \{吼娥\})$$

Donde:
- $I$: Intensidad luminosa observada en el punto pp.
- $p$: Punto donde se calcula la iluminaci贸n.
- $p_v$: Posici贸n del observador.
- $\{MGMO\}$: Modelo geom茅trico y material de los objetos.
- $\{MGCL\}$: Modelo geom茅trico y crom谩tico de la luz.

Para simplificar el modelo, se pueden asumir ciertas condiciones:

- Las **fuentes de luz** son puntuales (peque帽as y redondas).
- Los **objetos son opacos** y no emiten luz propia.
- No existen **inter-reflexiones**: la luz no rebota de un objeto a otro.
- Los objetos no generan sombras entre s铆.

## 5.4.3 Modelo de Iluminaci贸n de Phong (1973)
El **modelo de Phong** es un modelo emp铆rico de iluminaci贸n local, ampliamente utilizado en videojuegos y gr谩ficos en tiempo real. Se caracteriza por:
- **Fuentes de luz puntuales**.
- **Los objetos no emiten luz propia** (solo reflejan la luz de las fuentes).
- La luz se descompone en **cuatro componentes principales**:
#### **1. Luz Ambiental**
- Es una luz **no direccional y uniforme**, sin una fuente de origen identificable.
- Afecta a todos los objetos por igual, dependiendo solo de su color.
- No genera sombras ni matices de color.

![[Pasted image 20250401125247.png]]
#### **2. Luz Difusa (Modelo de Lambert)**
- Proviene de una **fuente de luz puntual** y var铆a seg煤n su **intensidad y posici贸n**.
- La iluminaci贸n en un objeto depende del **谩ngulo de incidencia** de la luz.
- Genera sombras y matices de color en las superficies.
- Ejemplo: una **l谩mpara** iluminando un escritorio.

![[Pasted image 20250401125322.png]]

#### **3. Luz Especular (Modelo de Phong)**
- Se genera cuando la luz incide sobre superficies **brillantes o reflectantes**.
- Se percibe como un **resplandor o reflejo intenso**, con mayor intensidad en 谩ngulos espec铆ficos.
- Su apariencia cambia seg煤n la posici贸n de la luz, la intensidad y el punto de vista del observador.
- Ejemplo: el **brillo en un coche reci茅n encerado** o un **espejo**.

![[Pasted image 20250401125411.png]]
![[Pasted image 20250401125425.png]]

#### **4. Luz Emisiva**
- No proviene de una fuente externa, sino que parece generarse desde el propio objeto.
- Se usa para simular objetos que parecen **emitir luz**, pero en la pr谩ctica es poco utilizada.
- Ejemplo: una **pantalla de televisor** encendida.


# 3.5 Luz Ambiental (Modelo Emp铆rico)
La **luz ambiental** es una luz uniforme que afecta a todos los objetos por igual, sin importar su orientaci贸n ni ubicaci贸n en la escena. Se usa para simular luz difusa reflejada en m煤ltiples superficies.

Su intensidad en un punto est谩 dada por:

$$ = 拣 \times 攫$$

Donde:
- $I_a$: Intensidad de la luz ambiental en la escena.

- $K_a$: Coeficiente de reflexi贸n ambiental del objeto (**entre 0 y 1**). Un valor de 1 significa que el objeto refleja toda la luz ambiental.

No depende de la posici贸n de la luz.  
No genera sombras ni matices.  
Hace que los objetos parezcan siluetas, ya que todas sus caras reciben la misma iluminaci贸n.

Ejemplo: La iluminaci贸n en una habitaci贸n con luz difusa proveniente de todas partes.


# 3.6 Luz Difusa (Modelo de Lambert)
La **luz difusa** proviene de una direcci贸n espec铆fica y se refleja en m煤ltiples direcciones seg煤n la **Ley de Lambert**, que establece que la intensidad de la luz reflejada depende del **谩ngulo de incidencia** de la luz con la superficie del objeto.

Su ecuaci贸n es:
$$I=I_l \times \cos(\theta) = I_l \times K_D \times (\vec N \cdot \vec L)$$

Donde
- $I_L$: Intensidad de la fuente de luz.
- $K_D$: Coeficiente de reflexi贸n difusa del material (**entre 0 y 1**).
- $\theta$: ngulo de incidencia entre la normal y la direcci贸n de la luz (**entre 0掳 y 90掳**).
- $\vec N$: Vector normal a la superficie (unitario).
- $\vec L$: Vector de iluminaci贸n (unitario).


Depende de la orientaci贸n del objeto (normal).  
No depende de la posici贸n del observador.  
Genera sombras y matices de color.

Ejemplo: La luz de una l谩mpara sobre una mesa, donde las 谩reas m谩s inclinadas reciben menos luz.

# 5.7 Luz Especular (Modelo Blinn-Phong)
La **luz especular** se produce cuando la luz se refleja de forma concentrada, generando brillos en superficies pulidas. Su apariencia depende del **谩ngulo de incidencia**, la **posici贸n del observador** y las **propiedades del material**.

Se calcula con la ecuaci贸n:

$$I = I_L \times K_S \times \cos^n() = I_L \times K_S \times (\vec R \cdot \vec V)^n$$

Donde:
- $I_L$: Intensidad de la fuente de luz.
- $K_s$: Coeficiente de reflexi贸n especular (**entre 0 y 1**).
- $n$: Exponente de brillo (**a mayor nn, m谩s concentrado el reflejo**).
- $\vec R$: Vector de reflexi贸n de la luz.
- $\vec V$: Vector que apunta al observador.


Depende de la orientaci贸n del objeto (normal).  
Depende de la posici贸n del observador.  
En superficies perfectas (espejos), el reflejo es n铆tido.  
En superficies rugosas, la luz se dispersa en varias direcciones.

Ejemplo: El brillo en un coche reci茅n encerado o el reflejo en un lago.


# 5.8 Modelo de Iluminaci贸n de Phong
El modelo de iluminaci贸n de **Phong** combina los tres tipos de iluminaci贸n anteriores en una ecuaci贸n:
$$ = I_a \times K_a + I_L \times (K_S\times (\vec R\cdot \vec V)^n + K_d \times (\vec N \cdot \vec L))$$

**Luz ambiental:** Ilumina toda la escena uniformemente.  
**Luz difusa:** Depende del 谩ngulo de incidencia y la normal.  
**Luz especular:** Depende del 谩ngulo de incidencia, normal y observador.

### **Extensi贸n del modelo: Consideraci贸n del Color**
Hasta ahora, hemos hablado de **intensidad de luz** en t茅rminos generales, pero en gr谩ficos computacionales, la luz tiene **tres componentes de color**:

- **Rojo ($I_R$)**
- **Verde ($I_G$)**
- **Azul ($I_B$)**

Para calcular el color final en un punto de la escena, se usa la ecuaci贸n anterior de Phong aplicada a cada componente.

**驴Por qu茅 es m谩s complejo?**  
Cada color (R, G, B) se calcula individualmente.  
Se a帽ade **atenuaci贸n**, que reduce la luz con la distancia.  
Si hay **m煤ltiples fuentes de luz**, cada una aporta un componente adicional.

